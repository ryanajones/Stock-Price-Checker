<!DOCTYPE html>
<html>

<head>
  <title>Stock Price Checker</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/public/styles.css" type="text/css" />
</head>

<body>
  <header class="flex">
    <h1>
      Nasdaq Stock Price Checker
    </h1>
  </header>
  <main class="flex">
    <div class="flex-col" id='testui'>
      <h2>Front-End:</h2>
      <h3>Get single price and total likes</h3>
      <form id="testForm2" class="flex-col">
        <div>
          <input type="text" name="stock" placeholder="goog" required=''>
          <input type="checkbox" name="like" value=true> <span>Like?</span>
        </div>
        <button type="submit">Get Price!</button>
      </form>
      <h3>Compare and get relative likes</h3>
      <form id="testForm" class="flex-col">
        <input type="text" name="stock" placeholder="goog" required=''>
        <input type="text" name="stock" placeholder="msft" required=''>
        <div>
          <input type="checkbox" name="like" value=true> <span>Like both?</span><br>
        </div>
        <button type="submit">Get Price!</button>
      </form>
    </div>
    <code id='jsonResult'></code>
    <div id='userstories'>
      <h3>Example usage:</h3>
      <code>/api/stock-prices?stock=goog</code><br>
      <code>/api/stock-prices?stock=goog&amp;like=true</code><br>
      <code>/api/stock-prices?stock=goog&amp;stock=msft</code><br>
      <code>/api/stock-prices?stock=goog&amp;stock=msft&amp;like=true</code><br>
      <h3>Example return:</h3>
      <code>{"stockData":{"stock":"GOOG","price":786.90,"likes":1}}</code><br>
      <code>{"stockData":[{"stock":"MSFT","price":62.30,"rel_likes":-1},
      {"stock":"GOOG","price":786.90,"rel_likes":1}]}</code>
    </div>
  </main>
  <!-- Your web-app is https, so your scripts need to be too -->
  <script src="https://code.jquery.com/jquery-2.2.1.min.js"
    integrity="sha256-gvQgAFzTH6trSrAWoH1iPo9Xc96QxSZ3feW6kem+O00=" crossorigin="anonymous"></script>
  <script>
    $(function () {
      $('#testForm').submit(function (e) {
        $.ajax({
          url: '/api/stock-prices',
          type: 'get',
          data: $('#testForm').serializeArray(),
          success: function (data) {
            $('#jsonResult').text(JSON.stringify(data));
          }
        });
        e.preventDefault();
      });
      $('#testForm2').submit(function (e) {
        $.ajax({
          url: '/api/stock-prices',
          type: 'get',
          data: $('#testForm2').serializeArray(),
          success: function (data) {
            $('#jsonResult').text(JSON.stringify(data));
          }
        });
        e.preventDefault();
      });
    });;
  </script>
</body>

</html>